---
import mangoAnimation from "../assets/mango_animation.gif";
import { Download } from '@lucide/astro';
---

<section class="bg-background py-20 md:py-24 px-8 md:px-12">
	<div class="max-w-7xl mx-auto">
		<div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-16">
			<!-- Left side: Text content -->
			<div class="flex-1 flex flex-col justify-center opacity-0 animate-fade-in">
				<h1 class="font-display italic text-4xl md:text-5xl lg:text-6xl text-text-primary mb-8 leading-tight tracking-tight">
					<span class="block headline-word">Harvest Knowledge.</span>
					<span class="block headline-word" style="animation-delay: 0.1s;">Share the Fruit.</span>
					<span class="block headline-word" style="animation-delay: 0.2s;">Defend Democracy.</span>
				</h1>
				<p class="text-lg md:text-xl text-text-muted mb-10 max-w-xl leading-relaxed opacity-0 animate-fade-in-up" style="animation-delay: 0.3s;">
					An open-source library to detect and analyze coordinated
					inauthentic behavior online
				</p>
				<div class="opacity-0 animate-fade-in-up" style="animation-delay: 0.4s;">
					<a 
						href="/download" 
						class="download-btn group inline-flex items-center justify-center gap-2 bg-mango-green-dark text-white px-8 py-4 font-semibold text-lg"
					>
						<Download class="w-5 h-5 btn-icon" />
						Download Now
					</a>
				</div>
			</div>

			<!-- Right side: 2x2 Stats Grid with Mango Animation -->
			<div class="flex-1 opacity-0 animate-fade-in" style="animation-delay: 0.5s;">
				<div class="grid grid-cols-2 gap-6">
					<!-- Mango Animation - Top left for visual hierarchy -->
					<div class="mango-card bg-white flex items-center justify-center overflow-hidden border-2 border-mango-green-light aspect-square">
						<img 
							class="mango-img w-full h-full object-cover" 
							src={mangoAnimation.src} 
							alt="Mango tree illustration" 
						/>
					</div>
					
					<!-- Stat Card 1: Bad bots - Top right -->
					<div class="stat-card bg-[#FFE099] p-6 md:p-8 flex flex-col justify-center cursor-default" style="animation-delay: 0.1s;">
						<div class="stat-number font-display italic text-4xl md:text-5xl text-text-primary mb-2">
							40%<a href="https://www.imperva.com/resources/resource-library/reports/2025-bad-bot-report/" target="_blank" rel="noopener noreferrer" class="citation-link"><sup>[1]</sup></a>
						</div>
						<div class="text-sm text-text-primary/80">Bad bots in all internet traffic</div>
					</div>
					
					<!-- Stat Card 2: Worried about disinformation - Bottom left -->
					<div class="stat-card bg-[#E5F7F8] p-6 md:p-8 flex flex-col justify-center cursor-default" style="animation-delay: 0.2s;">
						<div class="stat-number font-display italic text-4xl md:text-5xl text-text-primary mb-2">
							87%<a href="https://www.ipsos.com/en/elections-social-media-battle-against-disinformation-and-trust-issues" target="_blank" rel="noopener noreferrer" class="citation-link"><sup>[2]</sup></a>
						</div>
						<div class="text-sm text-text-primary/80">Worried about disinformation</div>
					</div>
					
					<!-- Stat Card 3: Twitter bot users - Bottom right -->
					<div class="stat-card bg-[#FFF5E6] p-6 md:p-8 flex flex-col justify-center cursor-default" style="animation-delay: 0.3s;">
						<div class="stat-number font-display italic text-3xl md:text-4xl text-text-primary mb-2">
							25-68%<a href="https://polisci.wustl.edu/news/are-bots-winning-war-control-social-media" target="_blank" rel="noopener noreferrer" class="citation-link"><sup>[3]</sup></a>
						</div>
						<div class="text-sm text-text-primary/80">Twitter users are bots</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<style>
	@keyframes fadeIn {
		from {
			opacity: 0;
			transform: translateY(10px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-fade-in {
		animation: fadeIn 0.6s ease-out forwards;
	}

	.animate-fade-in-up {
		animation: fadeInUp 0.6s ease-out forwards;
	}

	/* Headline word animation */
	.headline-word {
		opacity: 0;
		animation: slideIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
	}

	@keyframes slideIn {
		from {
			opacity: 0;
			transform: translateX(-20px);
		}
		to {
			opacity: 1;
			transform: translateX(0);
		}
	}

	/* Download button hover */
	.download-btn {
		position: relative;
		overflow: hidden;
		transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
		box-shadow: 0 4px 12px rgba(90, 138, 74, 0.3);
	}

	.download-btn::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(
			90deg,
			transparent,
			rgba(255, 255, 255, 0.3),
			transparent
		);
		transition: left 0.5s ease;
	}

	.download-btn:hover {
		transform: translateY(-4px);
		box-shadow: 0 8px 24px rgba(90, 138, 74, 0.5);
		background-color: #4A7A3A;
	}

	.download-btn:hover::before {
		left: 100%;
	}

	.download-btn:active {
		transform: translateY(-1px);
		box-shadow: 0 2px 8px rgba(90, 138, 74, 0.3);
	}

	.btn-icon {
		transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
	}

	.download-btn:hover .btn-icon {
		animation: bounceDown 0.5s ease infinite;
	}

	@keyframes bounceDown {
		0%, 100% { transform: translateY(0); }
		50% { transform: translateY(3px); }
	}

	/* Stat cards hover */
	.stat-card {
		transition: all 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
		position: relative;
	}

	.stat-card::after {
		content: '';
		position: absolute;
		inset: 0;
		background: rgba(255, 255, 255, 0);
		transition: background 0.3s ease;
	}

	.stat-card:hover {
		transform: scale(1.05) translateY(-4px);
		box-shadow: 0 12px 28px rgba(45, 58, 36, 0.15);
	}

	.stat-card:hover::after {
		background: rgba(255, 255, 255, 0.1);
	}

	.stat-number {
		transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
	}

	.stat-card:hover .stat-number {
		transform: scale(1.1);
	}

	/* Citation links */
	.citation-link {
		color: #5A8A4A;
		text-decoration: none;
		font-size: 0.5em;
		vertical-align: super;
		transition: color 0.2s ease;
	}

	.citation-link:hover {
		color: #4A7A3A;
		text-decoration: underline;
	}

	/* Mango card special hover */
	.mango-card {
		transition: all 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
		box-shadow: 0 4px 12px rgba(139, 191, 114, 0.15);
	}

	.mango-card:hover {
		transform: scale(1.05) translateY(-4px);
		box-shadow: 0 12px 28px rgba(139, 191, 114, 0.35);
		border-color: #5A8A4A;
	}

	.mango-img {
		transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
	}

	.mango-card:hover .mango-img {
		transform: scale(1.15) rotate(5deg);
	}
</style>
