---
import { ArrowRight } from "@lucide/astro";

interface Props {
  title: string;
  publication: string;
  date: string;
  link: string;
  excerpt?: string;
  imageUrl?: string;
}

const { title, publication, date, link, excerpt, imageUrl } = Astro.props;
---

<a
  href={link}
  target="_blank"
  rel="noopener noreferrer"
  class="news-quote block"
>
  <article
    class="bg-background border-l-4 border-mango-green-dark p-6 md:p-8 relative overflow-hidden"
  >
    <div class="flex gap-6">
      {
        imageUrl && (
          <div class="hidden sm:block shrink-0 w-32 h-24 md:w-40 md:h-28 overflow-hidden">
            <img
              src={imageUrl}
              alt={`${publication} article thumbnail`}
              class="news-image w-full h-full object-cover"
            />
          </div>
        )
      }

      <div class="flex-1 relative">
        <div
          class="quote-mark absolute top-0 right-0 text-5xl text-mango-green-light/30 font-serif leading-none"
        >
          "
        </div>

        <div class="relative z-10">
          <h3 class="font-bold text-xl md:text-2xl text-primary mb-3 pr-8">
            {title}
          </h3>

          {
            excerpt && (
              <p class="text-muted mb-3 leading-relaxed text-sm md:text-base line-clamp-2">
                "{excerpt}"
              </p>
            )
          }

          <div class="flex flex-wrap items-center gap-2 md:gap-4 text-sm">
            <span class="font-semibold text-mango-green-dark">{publication}</span>
            <span class="text-text-light hidden sm:inline">|</span>
            <span class="text-text-light">{date}</span>
            <span
              class="read-more ml-auto text-mango-green-dark font-medium flex items-center gap-1"
            >
              Read article
              <ArrowRight class="w-4 h-4 arrow-icon" />
            </span>
          </div>
        </div>
      </div>
    </div>
  </article>
</a>

<style>
  .news-quote {
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .news-quote article {
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .news-quote:hover article {
    transform: translateX(8px);
    box-shadow: 0 4px 16px rgba(90, 138, 74, 0.15);
    border-left-width: 6px;
  }

  .news-image {
    transition: all 0.3s ease;
  }

  .news-quote:hover .news-image {
    transform: scale(1.05);
  }

  .arrow-icon {
    transition: transform 0.3s ease;
  }

  .news-quote:hover .arrow-icon {
    transform: translateX(4px);
  }

  .quote-mark {
    transition: all 0.3s ease;
  }

  .news-quote:hover .quote-mark {
    transform: scale(1.2);
    color: rgba(139, 191, 114, 0.4);
  }
</style>
