---
import {
  Download,
  BookOpen,
  Users,
  Heart,
  Calendar,
  Video,
  MapPin,
} from "@lucide/astro";
import CTAButton from "@components/LinkButtons/CTAButton.astro";

type MeetingInfo = {
  name: string;
  day: string;
  time: string;
  type: "virtual" | "in-person";
  link?: string;
};

const meetings: Array<MeetingInfo> = [
  {
    name: "Engagement Scrum",
    day: "Tuesday",
    time: "7-8pm",
    type: "virtual" as const,
  },
  {
    name: "Product Scrum",
    day: "Thursday",
    time: "7-8pm",
    type: "virtual" as const,
  },
  {
    name: "Civic Tech DC Project Night",
    day: "2nd & 4th Wed",
    time: "Evening",
    type: "in-person" as const,
    link: "https://lu.ma/civic-tech-dc",
  },
];
---

<section class="flex justify-center py-20 bg-mango-green-dark">
  <div class="flex flex-col items-center justify-center w-5xl text-center">
    <h2 class="font-bold text-3xl md:text-4xl text-white mb-6">
      Ready to Make an Impact?
    </h2>
    <p class="text-white/80 text-lg mb-8 max-w-2xl mx-auto">
      Join our community of researchers, developers, and citizens working to
      protect digital democracy.
    </p>

    <!-- Compact Meeting Schedule -->
    <div class="flex flex-col items-center justify-center mb-12 w-3xl">
      <h3
        class="text-white/90 text-sm font-semibold uppercase tracking-wider mb-4 flex items-center justify-center gap-2"
      >
        <Calendar class="w-4 h-4" />
        Meeting Schedule
      </h3>
      <div class="flex flex-col sm:flex-row gap-3 justify-center">
        {
          meetings.map(
            (meeting: MeetingInfo): HTMLDivElement => (
              <div class="flex items-center gap-3 transition-all duration-300 ease-linear bg-white/10 backdrop-blur-sm px-4 py-3 border border-white/20 hover:bg-[rgba(255,255,255,0.15)] hover:-translate-y-0.5">
                {meeting.type === "virtual" ? (
                  <Video class="w-4 h-4 text-cyan-300 shrink-0" />
                ) : (
                  <MapPin class="w-4 h-4 text-mango-yellow shrink-0" />
                )}
                <div class="text-left">
                  <div class="text-white text-sm font-medium">
                    {meeting.name}
                  </div>
                  <div class="text-white/60 text-xs">
                    {meeting.day} @ {meeting.time}
                  </div>
                </div>
                {meeting.link && (
                  <a
                    href={meeting.link}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="text-mango-yellow hover:text-white text-xs font-medium ml-2"
                  >
                    RSVP â†’
                  </a>
                )}
              </div>
            ),
          )
        }
      </div>
    </div>

    <div
      class="flex flex-col sm:flex-row gap-4 justify-center items-center flex-wrap"
    >
      <!-- Primary CTA - Download (most prominent) -->
      <CTAButton
        href="/download"
        class="bg-white text-mango-green-dark shadow-[0_0.25rem_1.0rem_rgba(255,255,255,0.3)] hover:shadow-[0_0.50rem_1.50rem_rgba(255,255,255,0.4)]"
      >
        <Download class="w-5 h-5" />
        Download Now
      </CTAButton>
      <!-- Secondary CTA - Get Involved -->
      <CTAButton
        href="/get-involved"
        class="bg-mango-yellow shadow-[0_0.25rem_1.0rem_rgba(255,224,153,0.3)] hover:shadow-[0_0.50rem_1.50rem_rgba(255,224,153,0.4)] hover:bg-[#ffd966]"
      >
        <Users class="w-5 h-5" />
        Get Involved
      </CTAButton>
      <!-- Tertiary CTA - Documentation -->
      <CTAButton
        href="/docs"
        class="bg-transparent text-white border-2 border-white/50 hover:bg-[rgba(255,255,255,0.1)] hover:border-white"
      >
        <BookOpen class="w-5 h-5" />
        View Docs
      </CTAButton>
      <!-- Donate CTA -->
      <CTAButton
        href="https://www.civictechdc.org/donate"
        target="_blank"
        rel="noopener noreferrer"
        class="bg-transparent text-white border-2 border-mango-yellow shadow-[0_0.25rem_1.0rem_rgba(255,224,153,0.2)] hover:bg-[rgba(255,224,153,0.15)] hover:border-[#ffd966] hover:shadow-[0_0.50rem_1.50rem_rgba(255,224,153,0.3)]"
      >
        <Heart class="w-5 h-5" />
        Donate
      </CTAButton>
    </div>
  </div>
</section>
