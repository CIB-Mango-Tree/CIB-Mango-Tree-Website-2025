---
import { Github } from "@lucide/astro";
import Layout from "@layouts/Layout.astro";
import Footer from "@components/Footer.astro";
import CodeBlock from "@components/CodeBlock.astro";
import DocCard from "@components/DocCard.astro";
import BaseButton from "@components/LinkButtons/BaseButton.astro";
import cliScreenshot from "@assets/CLI_Image_CIB.png";
---

<Layout>
  <section class="flex-container-wrapper bg-background">
    <div class="flex-container-main w-5xl">
      <h1
        class="font-bold text-4xl md:text-5xl lg:text-6xl mb-10 leading-tight"
      >
        Documentation
      </h1>

      <p class="text-xl text-muted mb-16 leading-relaxed max-w-3xl">
        Everything you need to get started with CIB Mango Tree. From
        installation to advanced usage, we've got you covered.
      </p>

      <!-- Quick Start Section -->
      <div
        class="bg-background-alt border border-border-color p-8 md:p-10 mb-16 w-full"
      >
        <h2 class="font-bold text-3xl mb-8">Quick Start</h2>

        <div class="space-y-8">
          <div>
            <h3 class="text-lg font-semibold mb-3">1. Clone the repository</h3>
            <CodeBlock
              code="git clone https://github.com/civictechdc/cib-mango-tree.git"
            />
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">
              2. Create virtual environment and install dependencies
            </h3>
            <div class="space-y-3">
              <CodeBlock code="python -m venv venv" />
              <p class="text-text-muted text-sm">
                Then run the bootstrap script:
              </p>
              <CodeBlock
                code="./bootstrap.sh   # macOS/Linux<br/>bootstrap.ps1   # Windows PowerShell"
              />
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">3. Run the application</h3>
            <CodeBlock code="python -m cibmangotree" />
          </div>
        </div>

        <p class="text-text-muted text-sm mt-8">
          <strong>Requirements:</strong> Python 3.12 or higher
        </p>
      </div>

      <!-- CLI Preview -->
      <div class="mb-16">
        <h2 class="font-bold text-3xl mb-8">CLI Interface</h2>
        <div
          class="rounded-xl border-2 border-mango-green-dark/20 overflow-hidden shadow-lg"
        >
          <img
            src={cliScreenshot.src}
            alt="CIB Mango Tree CLI interface"
            class="w-full rounded-xl"
          />
        </div>
      </div>

      <!-- Documentation Sections -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
        <DocCard
          href="https://civictechdc.github.io/cib-mango-tree/guides/get-started/installation"
          class="bg-[#E5F7F8]"
        >
          <Fragment slot="heading">Installation Guide</Fragment>
          <Fragment slot="description">
            Detailed instructions for setting up CIB Mango Tree on various
            platforms.
          </Fragment>
        </DocCard>
        <DocCard
          href="https://civictechdc.github.io/cib-mango-tree"
          class="bg-[#FFE099]"
        >
          <Fragment slot="heading">Test Reference</Fragment>
          <Fragment slot="description">
            Complete documentation of all available detection tests and their
            parameters.
          </Fragment>
        </DocCard>
        <DocCard
          href="https://civictechdc.github.io/cib-mango-tree"
          class="bg-[#FFF5E6]"
        >
          <Fragment slot="heading">Data Formats</Fragment>
          <Fragment slot="description">
            Supported input formats and how to prepare your social media
            datasets.
          </Fragment>
        </DocCard>
        <DocCard
          href="https://civictechdc.github.io/cib-mango-tree/reference/analyzer_interface"
          class="bg-mango-green-light"
        >
          <Fragment slot="heading">API Reference</Fragment>
          <Fragment slot="description">
            For developers who want to integrate CIB Mango Tree into their
            workflows.
          </Fragment>
        </DocCard>
      </div>

      <!-- GitHub Link -->
      <div class="text-center py-10 border-t border-border-color w-full">
        <p class="text-muted mb-6">
          Full documentation and source code available on GitHub
        </p>
        <BaseButton
          href="https://github.com/civictechdc/cib-mango-tree"
          target="_blank"
          rel="noopener noreferrer"
          class="gap-2 bg-primary text-white px-6 py-3 hover:bg-mango-green-dark"
          hoverAnimation
        >
          <Github class="w-5 h-5" />
          View on GitHub
        </BaseButton>
      </div>
    </div>
  </section>
  <Footer />
</Layout>
